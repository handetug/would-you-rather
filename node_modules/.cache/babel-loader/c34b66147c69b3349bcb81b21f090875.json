{"ast":null,"code":"import { getInitialData, saveQuestion, saveQuestionAnswer } from '../utils/api';\nimport { receiveUsers, addQuestionToUser, answerQuestionToUser } from './users';\nimport { receiveQuestions, addQuestion, answerQuestion } from './questions';\nimport { showLoading, hideLoading } from 'react-redux-loading';\nexport function InitialData() {\n  return dispatch => {\n    dispatch(showLoading());\n    return getInitialData().then(({\n      users,\n      questions\n    }) => {\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n      dispatch(hideLoading());\n    });\n  };\n}\nexport function handleAddQuestion(optionOne, optionTwo) {\n  return (dispatch, getState) => {\n    const _getState = getState(),\n          authedUser = _getState.authedUser;\n\n    dispatch(showLoading());\n    return saveQuestion({\n      optionOneText: optionOne,\n      optionTwoText: optionTwo,\n      author: authedUser\n    }).then(question => {\n      dispatch(addQuestion(question));\n      dispatch(addQuestionToUser(question));\n    }).then(() => dispatch(hideLoading()));\n  };\n}\nexport function handleAnswerQuestion(qid, answer) {\n  return (dispatch, getState) => {\n    const _getState2 = getState(),\n          authedUser = _getState2.authedUser;\n\n    dispatch(showLoading());\n    return saveQuestionAnswer({\n      authedUser,\n      qid,\n      answer\n    }).then(() => {\n      dispatch(answerQuestion(authedUser, qid, answer));\n      dispatch(answerQuestionToUser(authedUser, qid, answer));\n    }).then(() => dispatch(hideLoading()));\n  };\n}","map":{"version":3,"sources":["/Users/fordotosandevteam/would-you-rather-app/src/actions/shared.js"],"names":["getInitialData","saveQuestion","saveQuestionAnswer","receiveUsers","addQuestionToUser","answerQuestionToUser","receiveQuestions","addQuestion","answerQuestion","showLoading","hideLoading","InitialData","dispatch","then","users","questions","handleAddQuestion","optionOne","optionTwo","getState","authedUser","optionOneText","optionTwoText","author","question","handleAnswerQuestion","qid","answer"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,YAAzB,EAAuCC,kBAAvC,QAAiE,cAAjE;AACA,SAASC,YAAT,EAAuBC,iBAAvB,EAA0CC,oBAA1C,QAAsE,SAAtE;AACA,SAASC,gBAAT,EAA2BC,WAA3B,EAAwCC,cAAxC,QAA8D,aAA9D;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,qBAAzC;AAGA,OAAO,SAASC,WAAT,GAAwB;AAC9B,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACE,WAAOT,cAAc,GACnBa,IADK,CACA,CAAC;AAACC,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAAD,KAAwB;AAC5BH,MAAAA,QAAQ,CAACT,YAAY,CAACW,KAAD,CAAb,CAAR;AACEF,MAAAA,QAAQ,CAACN,gBAAgB,CAACS,SAAD,CAAjB,CAAR;AACAH,MAAAA,QAAQ,CAACF,WAAW,EAAZ,CAAR;AACF,KALI,CAAP;AAMF,GARJ;AASA;AAED,OAAO,SAASM,iBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAkD;AACtD,SAAO,CAACN,QAAD,EAAWO,QAAX,KAAwB;AAAA,sBACJA,QAAQ,EADJ;AAAA,UACnBC,UADmB,aACnBA,UADmB;;AAG3BR,IAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AAEA,WAAOR,YAAY,CAAC;AAClBoB,MAAAA,aAAa,EAAEJ,SADG;AAEhBK,MAAAA,aAAa,EAAEJ,SAFC;AAGhBK,MAAAA,MAAM,EAAGH;AAHO,KAAD,CAAZ,CAKNP,IALM,CAKAW,QAAD,IAAc;AACjBZ,MAAAA,QAAQ,CAACL,WAAW,CAACiB,QAAD,CAAZ,CAAR;AACAZ,MAAAA,QAAQ,CAACR,iBAAiB,CAACoB,QAAD,CAAlB,CAAR;AAAuC,KAPnC,EAQNX,IARM,CAQD,MAAMD,QAAQ,CAACF,WAAW,EAAZ,CARb,CAAP;AASF,GAdF;AAeF;AAED,OAAO,SAASe,oBAAT,CAA+BC,GAA/B,EAAoCC,MAApC,EAA4C;AAElD,SAAO,CAACf,QAAD,EAAWO,QAAX,KAAwB;AAAA,uBACJA,QAAQ,EADJ;AAAA,UACnBC,UADmB,cACnBA,UADmB;;AAGzBR,IAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACA,WAAOP,kBAAkB,CAAC;AACxBkB,MAAAA,UADwB;AAEtBM,MAAAA,GAFsB;AAGtBC,MAAAA;AAHsB,KAAD,CAAlB,CAKNd,IALM,CAKD,MAAM;AACRD,MAAAA,QAAQ,CAACJ,cAAc,CAACY,UAAD,EAAaM,GAAb,EAAkBC,MAAlB,CAAf,CAAR;AACCf,MAAAA,QAAQ,CAACP,oBAAoB,CAACe,UAAD,EAAaM,GAAb,EAAkBC,MAAlB,CAArB,CAAR;AAAyD,KAPvD,EAQNd,IARM,CAQD,MAAMD,QAAQ,CAACF,WAAW,EAAZ,CARb,CAAP;AASF,GAbJ;AAcA","sourcesContent":["import { getInitialData, saveQuestion, saveQuestionAnswer } from '../utils/api';\nimport { receiveUsers, addQuestionToUser, answerQuestionToUser } from './users';\nimport { receiveQuestions, addQuestion, answerQuestion } from './questions';\nimport { showLoading, hideLoading } from 'react-redux-loading';\n\n\nexport function InitialData () {\n\treturn (dispatch) => {\n    \tdispatch(showLoading());\n      \treturn getInitialData()\n      \t\t.then(({users, questions}) => {\n        \t\tdispatch(receiveUsers(users));\n          \t\tdispatch(receiveQuestions(questions));\n          \t\tdispatch(hideLoading());\n        \t})\n    }\n}\n\nexport function handleAddQuestion (optionOne, optionTwo) {\n  \treturn (dispatch, getState) => {\n      \tconst { authedUser } = getState();\n        \n      \tdispatch(showLoading());\n      \n      \treturn saveQuestion({\n        \toptionOneText: optionOne,\n          \toptionTwoText: optionTwo,\n          \tauthor : authedUser,\n        })\n      \t.then((question) => {\n          dispatch(addQuestion(question)) \n          dispatch(addQuestionToUser(question)) })\n      \t.then(() => dispatch(hideLoading()))\n    }\n}\n\nexport function handleAnswerQuestion (qid, answer) {\n  \n\treturn (dispatch, getState) => {\n    \tconst { authedUser } = getState();\n   \n      \tdispatch(showLoading());\n      \treturn saveQuestionAnswer({\n        \tauthedUser,\n          \tqid,\n          \tanswer\n        })\n      \t.then(() => { \n          \tdispatch(answerQuestion(authedUser, qid, answer))\n            dispatch(answerQuestionToUser(authedUser, qid, answer)) })\n      \t.then(() => dispatch(hideLoading()))\n    }\n}"]},"metadata":{},"sourceType":"module"}